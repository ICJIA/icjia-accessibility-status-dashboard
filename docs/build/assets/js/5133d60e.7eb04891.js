"use strict";(self.webpackChunkicjia_accessibility_docs=self.webpackChunkicjia_accessibility_docs||[]).push([[268],{3023:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(3696);const i={},o=r.createContext(i);function t(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(o.Provider,{value:n},e.children)}},6305:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"troubleshooting/common-issues","title":"Common Issues and Solutions","description":"Troubleshooting guide for common problems.","source":"@site/docs/troubleshooting/common-issues.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/common-issues","permalink":"/docs/docs/troubleshooting/common-issues","draft":false,"unlisted":false,"editUrl":"https://github.com/ICJIA/icjia-accessibility-status/tree/main/docs/docs/troubleshooting/common-issues.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Minor Issues Fixed","permalink":"/docs/docs/security/minor-issues-fixed"},"next":{"title":"Authentication Errors","permalink":"/docs/docs/troubleshooting/authentication-errors"}}');var i=s(2540),o=s(3023);const t={},l="Common Issues and Solutions",a={},c=[{value:"Development Issues",id:"development-issues",level:2},{value:"Port Already in Use",id:"port-already-in-use",level:3},{value:"Module Not Found",id:"module-not-found",level:3},{value:"TypeScript Errors",id:"typescript-errors",level:3},{value:"Hot Module Replacement Not Working",id:"hot-module-replacement-not-working",level:3},{value:"Backend Issues",id:"backend-issues",level:2},{value:"Backend Won&#39;t Start",id:"backend-wont-start",level:3},{value:"API Endpoints Not Responding",id:"api-endpoints-not-responding",level:3},{value:"CORS Errors",id:"cors-errors",level:3},{value:"Database Issues",id:"database-issues",level:2},{value:"Database Connection Failed",id:"database-connection-failed",level:3},{value:"&quot;Admin user NOT found&quot; Error",id:"admin-user-not-found-error",level:3},{value:"&quot;Failed to create session&quot; Error",id:"failed-to-create-session-error",level:3},{value:"Table Not Found",id:"table-not-found",level:3},{value:"Authentication Issues",id:"authentication-issues",level:2},{value:"&quot;Invalid credentials&quot; Error",id:"invalid-credentials-error",level:3},{value:"Session Not Persisting",id:"session-not-persisting",level:3},{value:"&quot;Authentication required&quot; on Valid Session",id:"authentication-required-on-valid-session",level:3},{value:"Frontend Issues",id:"frontend-issues",level:2},{value:"Blank Page or White Screen",id:"blank-page-or-white-screen",level:3},{value:"Styling Issues",id:"styling-issues",level:3},{value:"Navigation Not Working",id:"navigation-not-working",level:3},{value:"Production Issues",id:"production-issues",level:2},{value:"Services Won&#39;t Start",id:"services-wont-start",level:3},{value:"Nginx Not Proxying",id:"nginx-not-proxying",level:3},{value:"SSL Certificate Issues",id:"ssl-certificate-issues",level:3},{value:"Getting Help",id:"getting-help",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"})}),"\n",(0,i.jsx)(n.p,{children:"Troubleshooting guide for common problems."}),"\n",(0,i.jsx)(n.h2,{id:"development-issues",children:"Development Issues"}),"\n",(0,i.jsx)(n.h3,{id:"port-already-in-use",children:"Port Already in Use"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "Port 5173 is already in use" or similar error']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Find process using port\nlsof -i :5173\n\n# Kill the process\nkill -9 <PID>\n\n# Or change port in vite.config.ts\n"})}),"\n",(0,i.jsx)(n.h3,{id:"module-not-found",children:"Module Not Found"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "Cannot find module" error']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Reinstall dependencies\nrm -rf node_modules\nyarn install\n\n# Clear cache\nyarn cache clean\nyarn install\n"})}),"\n",(0,i.jsx)(n.h3,{id:"typescript-errors",children:"TypeScript Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Type checking errors"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run type checking\nyarn typecheck\n\n# Fix common issues\nyarn lint --fix\n\n# Check specific file\nyarn typecheck src/pages/Login.tsx\n"})}),"\n",(0,i.jsx)(n.h3,{id:"hot-module-replacement-not-working",children:"Hot Module Replacement Not Working"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Changes not reflecting in browser"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Restart dev server\n# Press Ctrl+C and run yarn dev again\n\n# Clear browser cache\n# Hard refresh: Ctrl+Shift+R (Windows) or Cmd+Shift+R (Mac)\n\n# Check Vite config\n# Verify vite.config.ts has correct settings\n"})}),"\n",(0,i.jsx)(n.h2,{id:"backend-issues",children:"Backend Issues"}),"\n",(0,i.jsx)(n.h3,{id:"backend-wont-start",children:"Backend Won't Start"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "Cannot start backend" or connection errors']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check Node.js version\nnode --version  # Should be 20+\n\n# Check port availability\nsudo lsof -i :3001\n\n# Check environment variables\ncat .env\n\n# Run with verbose logging\nNODE_DEBUG=* yarn dev:backend\n"})}),"\n",(0,i.jsx)(n.h3,{id:"api-endpoints-not-responding",children:"API Endpoints Not Responding"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "Cannot GET /api/sites" or 404 errors']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Verify backend is running\ncurl http://localhost:3001/api\n\n# Check route definitions\n# Look in server/routes/*.ts\n\n# Check middleware\n# Verify requireAuth middleware is applied correctly\n\n# Check logs\n# Look for error messages in terminal\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cors-errors",children:"CORS Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "Access to XMLHttpRequest blocked by CORS policy"']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check Vite proxy configuration\n# vite.config.ts should have:\nproxy: {\n  '/api': {\n    target: 'http://localhost:3001',\n    changeOrigin: true,\n  },\n}\n\n# Restart dev server\nyarn dev\n"})}),"\n",(0,i.jsx)(n.h2,{id:"database-issues",children:"Database Issues"}),"\n",(0,i.jsx)(n.h3,{id:"database-connection-failed",children:"Database Connection Failed"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "Failed to connect to database" or "ECONNREFUSED"']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Verify Supabase credentials in .env\ncat .env | grep VITE_SUPABASE\n\n# Check Supabase project is active\n# Go to Supabase dashboard and verify project status\n\n# Test connection\ncurl https://your-project-id.supabase.co/rest/v1/\n\n# Restart backend\nyarn dev:backend\n"})}),"\n",(0,i.jsx)(n.h3,{id:"admin-user-not-found-error",children:'"Admin user NOT found" Error'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Cannot log in, admin user not found"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Re-run migration file\n# Go to Supabase SQL Editor\n# Copy and run: supabase/migrations/step_1_create_initial_schema.sql\n\n# Verify admin user was created\n# Check admin_users table in Supabase\n\n# Clear browser cache and try again\n"})}),"\n",(0,i.jsx)(n.h3,{id:"failed-to-create-session-error",children:'"Failed to create session" Error'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Login fails with session creation error"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Verify migrations were run\n# Check all tables exist in Supabase\n\n# Check RLS policies\n# Go to Supabase \u2192 Authentication \u2192 Policies\n\n# Re-run migration files\n# Run step_1 and step_2 migrations again\n\n# Check database logs\n# Look for errors in Supabase logs\n"})}),"\n",(0,i.jsx)(n.h3,{id:"table-not-found",children:"Table Not Found"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "relation does not exist" error']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Verify all migrations were run\n# Check Supabase Table Editor\n\n# Run missing migrations\n# Go to SQL Editor and run the migration files\n\n# Check table names\n# Verify table names match in code and database\n"})}),"\n",(0,i.jsx)(n.h2,{id:"authentication-issues",children:"Authentication Issues"}),"\n",(0,i.jsx)(n.h3,{id:"invalid-credentials-error",children:'"Invalid credentials" Error'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Cannot log in with correct username/password"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Verify admin user exists\n# Check admin_users table in Supabase\n\n# Check password is set\n# Initial admin has blank password - must set on first login\n\n# Try initial setup\n# Go to http://localhost:5173/setup\n\n# Check password requirements\n# Password must be 8+ chars with uppercase, lowercase, number, special char\n"})}),"\n",(0,i.jsx)(n.h3,{id:"session-not-persisting",children:"Session Not Persisting"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Logged out after page refresh"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check cookies are enabled\n# Browser settings \u2192 Privacy \u2192 Cookies\n\n# Verify credentials: 'include' in API calls\n# Check src/lib/api.ts has credentials: 'include'\n\n# Check cookie settings\n# Verify HttpOnly, Secure, SameSite flags\n\n# Restart backend\nyarn dev:backend\n"})}),"\n",(0,i.jsx)(n.h3,{id:"authentication-required-on-valid-session",children:'"Authentication required" on Valid Session'}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Getting 401 errors despite being logged in"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check session hasn't expired\n# Sessions expire after 15 days\n\n# Verify session exists in database\n# Check sessions table in Supabase\n\n# Check cookie is being sent\n# Open DevTools \u2192 Application \u2192 Cookies\n\n# Log out and log back in\n# Clear session and create new one\n"})}),"\n",(0,i.jsx)(n.h2,{id:"frontend-issues",children:"Frontend Issues"}),"\n",(0,i.jsx)(n.h3,{id:"blank-page-or-white-screen",children:"Blank Page or White Screen"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," App loads but shows nothing"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check browser console for errors\n# Open DevTools \u2192 Console tab\n\n# Check network requests\n# Open DevTools \u2192 Network tab\n\n# Verify backend is running\ncurl http://localhost:3001/api\n\n# Clear browser cache\n# Hard refresh: Ctrl+Shift+R (Windows) or Cmd+Shift+R (Mac)\n\n# Check React DevTools\n# Install React DevTools extension\n"})}),"\n",(0,i.jsx)(n.h3,{id:"styling-issues",children:"Styling Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," CSS not loading or styles look wrong"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check Tailwind CSS is working\n# Verify tailwind.config.ts exists\n\n# Rebuild CSS\nyarn dev\n\n# Clear browser cache\n# Hard refresh: Ctrl+Shift+R\n\n# Check dark mode\n# Verify dark mode is enabled in browser\n"})}),"\n",(0,i.jsx)(n.h3,{id:"navigation-not-working",children:"Navigation Not Working"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Links don't navigate or routes not working"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check React Router configuration\n# Look in src/App.tsx\n\n# Verify routes are defined\n# Check all pages have routes\n\n# Check navigation links\n# Verify href attributes are correct\n\n# Check browser history\n# Try using browser back/forward buttons\n"})}),"\n",(0,i.jsx)(n.h2,{id:"production-issues",children:"Production Issues"}),"\n",(0,i.jsx)(n.h3,{id:"services-wont-start",children:"Services Won't Start"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' PM2 shows "stopped" or "errored"']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check PM2 logs\npm2 logs\n\n# Check error logs\npm2 logs --err\n\n# Verify environment variables\ncat .env\n\n# Restart services\npm2 restart all\n\n# Check system resources\npm2 monit\n"})}),"\n",(0,i.jsx)(n.h3,{id:"nginx-not-proxying",children:"Nginx Not Proxying"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' Getting "Bad Gateway" or connection refused']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Test Nginx configuration\nsudo nginx -t\n\n# Check upstream services running\ncurl http://localhost:5173\ncurl http://localhost:3001/api\ncurl http://localhost:3002\n\n# Check Nginx logs\nsudo tail -f /var/log/nginx/error.log\n\n# Restart Nginx\nsudo systemctl restart nginx\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ssl-certificate-issues",children:"SSL Certificate Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"}),' "SSL certificate problem" or HTTPS not working']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Verify certificate exists\nsudo ls -la /etc/letsencrypt/live/example.com/\n\n# Renew certificate\nsudo certbot renew\n\n# Test renewal\nsudo certbot renew --dry-run\n\n# Check Nginx SSL configuration\nsudo nginx -t\n"})}),"\n",(0,i.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,i.jsx)(n.p,{children:"If you can't find a solution:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check the logs"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Frontend: Browser DevTools Console"}),"\n",(0,i.jsxs)(n.li,{children:["Backend: Terminal output or ",(0,i.jsx)(n.code,{children:"pm2 logs"})]}),"\n",(0,i.jsx)(n.li,{children:"Database: Supabase logs"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Search documentation"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../setup-guide",children:"Setup Guide"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../authentication",children:"Authentication"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"../api/overview",children:"API Documentation"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Report an issue"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/ICJIA/icjia-accessibility-status/issues",children:"GitHub Issues"})}),"\n",(0,i.jsx)(n.li,{children:"Include error messages and steps to reproduce"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./authentication-errors",children:"Authentication Errors"})," - Auth-specific issues"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./database-errors",children:"Database Errors"})," - Database-specific issues"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../setup-guide",children:"Setup Guide"})," - Setup instructions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);