"use strict";(self.webpackChunkicjia_accessibility_docs=self.webpackChunkicjia_accessibility_docs||[]).push([[6430],{3023:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var s=i(3696);const r={},c=s.createContext(r);function d(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(c.Provider,{value:n},e.children)}},4890:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>x,frontMatter:()=>d,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"deployment/docker-audit-report","title":"\ud83d\udc33 Docker Comprehensive Audit Report","description":"ICJIA Accessibility Status Portal","source":"@site/docs/deployment/docker-audit-report.md","sourceDirName":"deployment","slug":"/deployment/docker-audit-report","permalink":"/docs/docs/deployment/docker-audit-report","draft":false,"unlisted":false,"editUrl":"https://github.com/ICJIA/icjia-accessibility-status/tree/main/docs/docs/deployment/docker-audit-report.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Verification Report","permalink":"/docs/docs/deployment/verification-report"},"next":{"title":"Audit Overview","permalink":"/docs/docs/security/audit-overview"}}');var r=i(2540),c=i(3023);const d={},l="\ud83d\udc33 Docker Comprehensive Audit Report",o={},t=[{value:"ICJIA Accessibility Status Portal",id:"icjia-accessibility-status-portal",level:2},{value:"Executive Summary",id:"executive-summary",level:2},{value:"Detailed Findings",id:"detailed-findings",level:2},{value:"ISSUE #1: Missing Docusaurus Dockerfile \u274c CRITICAL",id:"issue-1-missing-docusaurus-dockerfile--critical",level:3},{value:"ISSUE #2: Frontend Dockerfile Build Context \u26a0\ufe0f HIGH",id:"issue-2-frontend-dockerfile-build-context-\ufe0f-high",level:3},{value:"ISSUE #3: Frontend Dockerfile Volume Mounts \u26a0\ufe0f MEDIUM",id:"issue-3-frontend-dockerfile-volume-mounts-\ufe0f-medium",level:3},{value:"ISSUE #4: Docker Compose Supabase Service \u26a0\ufe0f MEDIUM",id:"issue-4-docker-compose-supabase-service-\ufe0f-medium",level:3},{value:"ISSUE #5: Missing Documentation Service in Docker Compose \u26a0\ufe0f HIGH",id:"issue-5-missing-documentation-service-in-docker-compose-\ufe0f-high",level:3},{value:"ISSUE #6: Nginx Configuration Incomplete \u26a0\ufe0f MEDIUM",id:"issue-6-nginx-configuration-incomplete-\ufe0f-medium",level:3},{value:"ISSUE #7: Missing .dockerignore File \u26a0\ufe0f MEDIUM",id:"issue-7-missing-dockerignore-file-\ufe0f-medium",level:3},{value:"ISSUE #8: Environment Variables in Docker \u26a0\ufe0f LOW",id:"issue-8-environment-variables-in-docker-\ufe0f-low",level:3},{value:"Validation Checklist",id:"validation-checklist",level:2},{value:"Required Fixes Summary",id:"required-fixes-summary",level:2},{value:"Priority 1 (CRITICAL - Must Fix)",id:"priority-1-critical---must-fix",level:3},{value:"Priority 2 (HIGH - Should Fix)",id:"priority-2-high---should-fix",level:3},{value:"Priority 3 (MEDIUM - Nice to Have)",id:"priority-3-medium---nice-to-have",level:3},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"-docker-comprehensive-audit-report",children:"\ud83d\udc33 Docker Comprehensive Audit Report"})}),"\n",(0,r.jsx)(n.h2,{id:"icjia-accessibility-status-portal",children:"ICJIA Accessibility Status Portal"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Audit Date:"})," November 11, 2024",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Status:"})," \u26a0\ufe0f ",(0,r.jsx)(n.strong,{children:"ISSUES FOUND - REQUIRES FIXES"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Overall Score:"})," 72/100"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"executive-summary",children:"Executive Summary"}),"\n",(0,r.jsxs)(n.p,{children:["The Docker configuration has ",(0,r.jsx)(n.strong,{children:"several critical issues"})," that prevent the complete application stack from running successfully:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Missing Docusaurus Dockerfile"})," - Documentation service not containerized"]}),"\n",(0,r.jsxs)(n.li,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Frontend Dockerfile Issues"})," - Build context and volume mounts incorrect"]}),"\n",(0,r.jsxs)(n.li,{children:["\u26a0\ufe0f ",(0,r.jsx)(n.strong,{children:"Docker Compose Configuration"})," - References non-existent Supabase service"]}),"\n",(0,r.jsxs)(n.li,{children:["\u26a0\ufe0f ",(0,r.jsx)(n.strong,{children:"Environment Variables"})," - Missing DOCKER-specific configurations"]}),"\n",(0,r.jsxs)(n.li,{children:["\u26a0\ufe0f ",(0,r.jsx)(n.strong,{children:"Nginx Configuration"})," - Incomplete documentation routing"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"detailed-findings",children:"Detailed Findings"}),"\n",(0,r.jsx)(n.h3,{id:"issue-1-missing-docusaurus-dockerfile--critical",children:"ISSUE #1: Missing Docusaurus Dockerfile \u274c CRITICAL"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," CRITICAL",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Documentation service cannot run in Docker"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Only ",(0,r.jsx)(n.code,{children:"Dockerfile.frontend"})," and ",(0,r.jsx)(n.code,{children:"Dockerfile.backend"})," exist"]}),"\n",(0,r.jsxs)(n.li,{children:["No ",(0,r.jsx)(n.code,{children:"Dockerfile.docs"})," for Docusaurus"]}),"\n",(0,r.jsx)(n.li,{children:"Docker Compose references documentation service but no container definition"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Required Fix:"}),"\nCreate ",(0,r.jsx)(n.code,{children:"Dockerfile.docs"})," to containerize Docusaurus documentation site"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Expected Behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Docusaurus should build and serve on port 3002"}),"\n",(0,r.jsx)(n.li,{children:"Should be included in docker-compose.yml"}),"\n",(0,r.jsx)(n.li,{children:"Should use Node 20 Alpine (consistent with other services)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"issue-2-frontend-dockerfile-build-context-\ufe0f-high",children:"ISSUE #2: Frontend Dockerfile Build Context \u26a0\ufe0f HIGH"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," HIGH",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Frontend build may fail or include unnecessary files"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State (Dockerfile.frontend):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dockerfile",children:"COPY package.json yarn.lock ./\nCOPY . .\nRUN yarn build\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Problems:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Copies entire root directory (includes backend, docs, node_modules)"}),"\n",(0,r.jsx)(n.li,{children:"No .dockerignore file to exclude unnecessary files"}),"\n",(0,r.jsx)(n.li,{children:"Build context includes 500MB+ of unnecessary files"}),"\n",(0,r.jsx)(n.li,{children:"Yarn install runs on entire monorepo (inefficient)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Fix:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create ",(0,r.jsx)(n.code,{children:".dockerignore"})," file"]}),"\n",(0,r.jsx)(n.li,{children:"Optimize build context"}),"\n",(0,r.jsx)(n.li,{children:"Consider multi-stage build optimization"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"issue-3-frontend-dockerfile-volume-mounts-\ufe0f-medium",children:"ISSUE #3: Frontend Dockerfile Volume Mounts \u26a0\ufe0f MEDIUM"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," MEDIUM",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Development hot-reload may not work correctly"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State (docker-compose.yml):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"volumes:\n  - ./src:/app/src\n  - ./public:/app/public\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Problems:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Mounts only ",(0,r.jsx)(n.code,{children:"src"})," and ",(0,r.jsx)(n.code,{children:"public"})," directories"]}),"\n",(0,r.jsxs)(n.li,{children:["Missing ",(0,r.jsx)(n.code,{children:"docs"})," workspace volume"]}),"\n",(0,r.jsx)(n.li,{children:"Nginx configuration in frontend container not mounted"}),"\n",(0,r.jsx)(n.li,{children:"Vite config changes won't be reflected"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Fix:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add proper volume mounts for development"}),"\n",(0,r.jsx)(n.li,{children:"Include docs workspace if needed"}),"\n",(0,r.jsx)(n.li,{children:"Mount vite.config.ts"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"issue-4-docker-compose-supabase-service-\ufe0f-medium",children:"ISSUE #4: Docker Compose Supabase Service \u26a0\ufe0f MEDIUM"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," MEDIUM",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Compose file references non-existent service"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State (docker-compose.yml):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"depends_on:\n  - supabase\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Problems:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Backend depends on ",(0,r.jsx)(n.code,{children:"supabase"})," service"]}),"\n",(0,r.jsxs)(n.li,{children:["No ",(0,r.jsx)(n.code,{children:"supabase"})," service defined in docker-compose.yml"]}),"\n",(0,r.jsx)(n.li,{children:"Supabase is cloud-hosted, not containerized"}),"\n",(0,r.jsx)(n.li,{children:"This dependency will cause startup failure"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Fix:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Remove ",(0,r.jsx)(n.code,{children:"depends_on: supabase"})," from backend service"]}),"\n",(0,r.jsx)(n.li,{children:"Add comment explaining Supabase is cloud-hosted"}),"\n",(0,r.jsx)(n.li,{children:"Update documentation"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"issue-5-missing-documentation-service-in-docker-compose-\ufe0f-high",children:"ISSUE #5: Missing Documentation Service in Docker Compose \u26a0\ufe0f HIGH"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," HIGH",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Documentation site not available in Docker setup"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["docker-compose.yml has no ",(0,r.jsx)(n.code,{children:"docs"})," service"]}),"\n",(0,r.jsx)(n.li,{children:"Comments mention documentation on port 3002"}),"\n",(0,r.jsx)(n.li,{children:"No way to run complete stack with documentation"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Fix:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"docs"})," service to docker-compose.yml"]}),"\n",(0,r.jsxs)(n.li,{children:["Build from ",(0,r.jsx)(n.code,{children:"Dockerfile.docs"})]}),"\n",(0,r.jsx)(n.li,{children:"Expose port 3002"}),"\n",(0,r.jsx)(n.li,{children:"Add to nginx upstream configuration"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"issue-6-nginx-configuration-incomplete-\ufe0f-medium",children:"ISSUE #6: Nginx Configuration Incomplete \u26a0\ufe0f MEDIUM"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," MEDIUM",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Documentation routing not configured"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State (nginx.conf):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Only has ",(0,r.jsx)(n.code,{children:"backend"})," and ",(0,r.jsx)(n.code,{children:"frontend"})," upstreams"]}),"\n",(0,r.jsxs)(n.li,{children:["No ",(0,r.jsx)(n.code,{children:"/docs"})," location block"]}),"\n",(0,r.jsx)(n.li,{children:"No documentation service routing"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Fix:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"docs"})," upstream pointing to ",(0,r.jsx)(n.code,{children:"docs:3002"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"/docs"})," location block for routing"]}),"\n",(0,r.jsx)(n.li,{children:"Configure proper proxy headers"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"issue-7-missing-dockerignore-file-\ufe0f-medium",children:"ISSUE #7: Missing .dockerignore File \u26a0\ufe0f MEDIUM"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," MEDIUM",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Large build context, slow builds"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["No ",(0,r.jsx)(n.code,{children:".dockerignore"})," file exists"]}),"\n",(0,r.jsx)(n.li,{children:"Docker copies entire directory (including node_modules, .git, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Build context likely 500MB+"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Fix:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create ",(0,r.jsx)(n.code,{children:".dockerignore"})," file"]}),"\n",(0,r.jsx)(n.li,{children:"Exclude: node_modules, .git, dist, build, .env, etc."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"issue-8-environment-variables-in-docker-\ufe0f-low",children:"ISSUE #8: Environment Variables in Docker \u26a0\ufe0f LOW"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," LOW",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Impact:"})," Some configurations may not work in Docker"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Current State (.env.sample):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["VITE_DOCS_URL defaults to ",(0,r.jsx)(n.code,{children:"http://localhost:3002"})]}),"\n",(0,r.jsx)(n.li,{children:"Works for local development"}),"\n",(0,r.jsx)(n.li,{children:"May need adjustment for Docker networking"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Required Fix:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add Docker-specific environment variable documentation"}),"\n",(0,r.jsx)(n.li,{children:"Explain service-to-service communication"}),"\n",(0,r.jsx)(n.li,{children:"Update .env.sample with Docker examples"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"validation-checklist",children:"Validation Checklist"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Item"}),(0,r.jsx)(n.th,{children:"Status"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Dockerfile.frontend"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f NEEDS FIX"}),(0,r.jsx)(n.td,{children:"Build context too large"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Dockerfile.backend"}),(0,r.jsx)(n.td,{children:"\u2705 VALID"}),(0,r.jsx)(n.td,{children:"Properly configured"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Dockerfile.docs"}),(0,r.jsx)(n.td,{children:"\u274c MISSING"}),(0,r.jsx)(n.td,{children:"Critical - must create"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"docker-compose.yml"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f NEEDS FIX"}),(0,r.jsx)(n.td,{children:"Missing docs service, invalid supabase dep"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nginx.conf"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f NEEDS FIX"}),(0,r.jsx)(n.td,{children:"Missing docs routing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:".dockerignore"}),(0,r.jsx)(n.td,{children:"\u274c MISSING"}),(0,r.jsx)(n.td,{children:"Should create"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:".env.sample"}),(0,r.jsx)(n.td,{children:"\u2705 VALID"}),(0,r.jsx)(n.td,{children:"Good documentation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Port mappings"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f PARTIAL"}),(0,r.jsx)(n.td,{children:"Frontend 5173, Backend 3001, Docs missing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Volume mounts"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f NEEDS FIX"}),(0,r.jsx)(n.td,{children:"Incomplete for development"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Network config"}),(0,r.jsx)(n.td,{children:"\u2705 VALID"}),(0,r.jsx)(n.td,{children:"Bridge network properly configured"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Health checks"}),(0,r.jsx)(n.td,{children:"\u2705 VALID"}),(0,r.jsx)(n.td,{children:"Both services have health checks"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Build contexts"}),(0,r.jsx)(n.td,{children:"\u26a0\ufe0f NEEDS FIX"}),(0,r.jsx)(n.td,{children:"Frontend includes too much"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"required-fixes-summary",children:"Required Fixes Summary"}),"\n",(0,r.jsx)(n.h3,{id:"priority-1-critical---must-fix",children:"Priority 1 (CRITICAL - Must Fix)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 Create ",(0,r.jsx)(n.code,{children:"Dockerfile.docs"})," for Docusaurus"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Add ",(0,r.jsx)(n.code,{children:"docs"})," service to docker-compose.yml"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 Remove invalid ",(0,r.jsx)(n.code,{children:"depends_on: supabase"})," from backend"]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Add documentation routing to nginx.conf"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"priority-2-high---should-fix",children:"Priority 2 (HIGH - Should Fix)"}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 Create ",(0,r.jsx)(n.code,{children:".dockerignore"})," file"]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Optimize frontend Dockerfile build context"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Update docker-compose.yml volume mounts"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"priority-3-medium---nice-to-have",children:"Priority 3 (MEDIUM - Nice to Have)"}),"\n",(0,r.jsxs)(n.ol,{start:"8",children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Add Docker-specific environment documentation"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Add Docker networking explanation to .env.sample"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create ",(0,r.jsx)(n.code,{children:"Dockerfile.docs"})," with Docusaurus build"]}),"\n",(0,r.jsxs)(n.li,{children:["Update ",(0,r.jsx)(n.code,{children:"docker-compose.yml"})," with docs service"]}),"\n",(0,r.jsx)(n.li,{children:"Fix nginx.conf with docs routing"}),"\n",(0,r.jsxs)(n.li,{children:["Create ",(0,r.jsx)(n.code,{children:".dockerignore"})," file"]}),"\n",(0,r.jsxs)(n.li,{children:["Test complete stack: ",(0,r.jsx)(n.code,{children:"docker-compose up"})]}),"\n",(0,r.jsxs)(n.li,{children:["Verify all three services accessible:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Frontend: ",(0,r.jsx)(n.a,{href:"http://localhost:5173",children:"http://localhost:5173"})]}),"\n",(0,r.jsxs)(n.li,{children:["Backend: ",(0,r.jsx)(n.a,{href:"http://localhost:3001",children:"http://localhost:3001"})]}),"\n",(0,r.jsxs)(n.li,{children:["Docs: ",(0,r.jsx)(n.a,{href:"http://localhost:3002",children:"http://localhost:3002"})]}),"\n",(0,r.jsxs)(n.li,{children:["Nginx: ",(0,r.jsx)(n.a,{href:"http://localhost:80",children:"http://localhost:80"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Recommendation:"})," Implement all Priority 1 fixes before attempting to run Docker Compose."]})]})}function x(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);