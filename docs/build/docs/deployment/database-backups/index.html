<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-deployment/database-backups" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Database Backups | ICJIA Accessibility Status Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://example.com/docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://example.com/docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://example.com/docs/docs/deployment/database-backups"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Database Backups | ICJIA Accessibility Status Portal"><meta data-rh="true" name="description" content="This guide explains how to manage and verify database backups for the ICJIA Accessibility Status Portal."><meta data-rh="true" property="og:description" content="This guide explains how to manage and verify database backups for the ICJIA Accessibility Status Portal."><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://example.com/docs/docs/deployment/database-backups"><link data-rh="true" rel="alternate" href="https://example.com/docs/docs/deployment/database-backups" hreflang="en"><link data-rh="true" rel="alternate" href="https://example.com/docs/docs/deployment/database-backups" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.71c4d382.css">
<script src="/docs/assets/js/runtime~main.878c75e1.js" defer="defer"></script>
<script src="/docs/assets/js/main.ac8ccf86.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="navbarWrapper_hKQk"><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/icjia-logo.png" alt="ICJIA Logo" class="themedComponent_siVc themedComponent--light_hHel" height="40" width="40"><img src="/docs/img/icjia-logo.png" alt="ICJIA Logo" class="themedComponent_siVc themedComponent--dark_yETr" height="40" width="40"></div><b class="navbar__title text--truncate">ICJIA Accessibility Portal</b></a><a class="navbar__item navbar__link" href="/docs/docs/intro">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="http://localhost:5173" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">← Back to App<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPrP"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/ICJIA/icjia-accessibility-status" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPrP"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_bzqh"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="healthIndicatorContainer_nsdW"><div class="healthIndicator_jidm"><div class="indicator_ev9D unhealthy_aIkB" title="Documentation site is unavailable" role="status" aria-label="Documentation health: unhealthy"><span class="dot_CF9i" aria-hidden="true"></span><span class="label_Gqs_">Docs</span></div><div class="tooltip_UChh"><div class="tooltipContent_El99"><span>Checking health...</span></div></div></div></div></div><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><main class="docMainContainer_a9sJ docMainContainerEnhanced_grEJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Database Backups</h1></header>
<p>This guide explains how to manage and verify database backups for the ICJIA Accessibility Status Portal.</p>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>The application uses Supabase (PostgreSQL) for data storage. Supabase provides automated daily backups, but it&#x27;s critical to verify backups are working and test restore procedures regularly.</p>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="supabase-automated-backups">Supabase Automated Backups<a href="#supabase-automated-backups" class="hash-link" aria-label="Direct link to Supabase Automated Backups" title="Direct link to Supabase Automated Backups" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="backup-schedule">Backup Schedule<a href="#backup-schedule" class="hash-link" aria-label="Direct link to Backup Schedule" title="Direct link to Backup Schedule" translate="no">​</a></h3>
<ul>
<li class=""><strong>Frequency:</strong> Daily</li>
<li class=""><strong>Retention:</strong> 7 days (free tier) or 30 days (paid tier)</li>
<li class=""><strong>Time:</strong> 2:00 AM UTC (configurable)</li>
<li class=""><strong>Location:</strong> Geographically redundant storage</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="accessing-backups">Accessing Backups<a href="#accessing-backups" class="hash-link" aria-label="Direct link to Accessing Backups" title="Direct link to Accessing Backups" translate="no">​</a></h3>
<ol>
<li class="">Go to <a href="https://app.supabase.com" target="_blank" rel="noopener noreferrer" class="">Supabase Dashboard</a></li>
<li class="">Select your project</li>
<li class="">Go to <strong>Settings → Backups</strong></li>
<li class="">View backup history and download options</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="backup-contents">Backup Contents<a href="#backup-contents" class="hash-link" aria-label="Direct link to Backup Contents" title="Direct link to Backup Contents" translate="no">​</a></h3>
<p>Each backup includes:</p>
<ul>
<li class="">All database tables</li>
<li class="">All data</li>
<li class="">Indexes</li>
<li class="">Constraints</li>
<li class="">Row Level Security (RLS) policies</li>
<li class="">Functions and triggers</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="backup-verification-checklist">Backup Verification Checklist<a href="#backup-verification-checklist" class="hash-link" aria-label="Direct link to Backup Verification Checklist" title="Direct link to Backup Verification Checklist" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="weekly-verification-every-monday">Weekly Verification (Every Monday)<a href="#weekly-verification-every-monday" class="hash-link" aria-label="Direct link to Weekly Verification (Every Monday)" title="Direct link to Weekly Verification (Every Monday)" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 1. Check backup exists in Supabase dashboard</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 2. Verify backup size is reasonable (&gt; 1MB)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 3. Check backup timestamp is recent (&lt; 24 hours old)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 4. Verify no errors in backup logs</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="monthly-restore-test-first-friday-of-month">Monthly Restore Test (First Friday of Month)<a href="#monthly-restore-test-first-friday-of-month" class="hash-link" aria-label="Direct link to Monthly Restore Test (First Friday of Month)" title="Direct link to Monthly Restore Test (First Friday of Month)" translate="no">​</a></h3>
<p><strong>IMPORTANT:</strong> Only perform restore tests on a staging database, never on production!</p>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="step-1-create-staging-database">Step 1: Create Staging Database<a href="#step-1-create-staging-database" class="hash-link" aria-label="Direct link to Step 1: Create Staging Database" title="Direct link to Step 1: Create Staging Database" translate="no">​</a></h4>
<ol>
<li class="">Go to Supabase Dashboard</li>
<li class="">Click &quot;New Project&quot;</li>
<li class="">Name: <code>accessibility-staging-restore-test</code></li>
<li class="">Same region as production</li>
<li class="">Wait for database to initialize</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="step-2-download-backup">Step 2: Download Backup<a href="#step-2-download-backup" class="hash-link" aria-label="Direct link to Step 2: Download Backup" title="Direct link to Step 2: Download Backup" translate="no">​</a></h4>
<ol>
<li class="">Go to <strong>Settings → Backups</strong></li>
<li class="">Select backup from 1 month ago</li>
<li class="">Click &quot;Download&quot;</li>
<li class="">Save as <code>backup-YYYY-MM-DD.sql</code></li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="step-3-restore-to-staging">Step 3: Restore to Staging<a href="#step-3-restore-to-staging" class="hash-link" aria-label="Direct link to Step 3: Restore to Staging" title="Direct link to Step 3: Restore to Staging" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Connect to staging database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">psql postgresql://user:password@staging-db.supabase.co:5432/postgres </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain"> backup-YYYY-MM-DD.sql</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="step-4-verify-restore">Step 4: Verify Restore<a href="#step-4-verify-restore" class="hash-link" aria-label="Direct link to Step 4: Verify Restore" title="Direct link to Step 4: Verify Restore" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Check table counts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">psql postgresql://user:password@staging-db.supabase.co:5432/postgres </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-c</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">SELECT </span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">  schemaname,</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">  tablename,</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">  (SELECT count(*) FROM information_schema.tables </span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">   WHERE table_schema = schemaname AND table_name = tablename) as row_count</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">FROM pg_tables </span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">WHERE schemaname NOT IN (&#x27;pg_catalog&#x27;, &#x27;information_schema&#x27;)</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">ORDER BY tablename;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Expected output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># sites: ~42 rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># sessions: ~5 rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># admin_users: ~1 row</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># api_keys: ~3 rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># activity_log: ~156 rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># app_documentation: ~8 rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># api_payloads: ~0 rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># score_history: ~84 rows</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="step-5-test-data-integrity">Step 5: Test Data Integrity<a href="#step-5-test-data-integrity" class="hash-link" aria-label="Direct link to Step 5: Test Data Integrity" title="Direct link to Step 5: Test Data Integrity" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Check for data corruption</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">psql postgresql://user:password@staging-db.supabase.co:5432/postgres </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-c</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">-- Check for orphaned records</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">SELECT COUNT(*) FROM score_history </span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">WHERE site_id NOT IN (SELECT id FROM sites);</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">-- Check for invalid dates</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">SELECT COUNT(*) FROM sites </span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">WHERE created_at &gt; NOW();</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">-- Check for NULL required fields</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">SELECT COUNT(*) FROM sites </span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">WHERE name IS NULL OR url IS NULL;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># All queries should return 0</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="step-6-test-application-connection">Step 6: Test Application Connection<a href="#step-6-test-application-connection" class="hash-link" aria-label="Direct link to Step 6: Test Application Connection" title="Direct link to Step 6: Test Application Connection" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Update .env to point to staging database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">VITE_SUPABASE_URL</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">https://staging-db.supabase.co</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">VITE_SUPABASE_ANON_KEY</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">staging-key</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Start application</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">yarn</span><span class="token plain"> dev</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Test in browser:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 1. Navigate to http://localhost:5173</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 2. Check dashboard loads</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 3. Verify data displays correctly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># 4. Test API endpoints</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_tleR" id="step-7-cleanup">Step 7: Cleanup<a href="#step-7-cleanup" class="hash-link" aria-label="Direct link to Step 7: Cleanup" title="Direct link to Step 7: Cleanup" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Delete staging database after successful test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Go to Supabase Dashboard → Settings → Delete Project</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="backup-disaster-recovery-plan">Backup Disaster Recovery Plan<a href="#backup-disaster-recovery-plan" class="hash-link" aria-label="Direct link to Backup Disaster Recovery Plan" title="Direct link to Backup Disaster Recovery Plan" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="if-production-database-is-corrupted">If Production Database is Corrupted<a href="#if-production-database-is-corrupted" class="hash-link" aria-label="Direct link to If Production Database is Corrupted" title="Direct link to If Production Database is Corrupted" translate="no">​</a></h3>
<p><strong>Step 1: Assess Damage</strong></p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Check database status</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> https://accessibility.icjia.app/api/health</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Check logs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">pm2 logs icjia-accessibility-backend</span><br></span></code></pre></div></div>
<p><strong>Step 2: Notify Team</strong></p>
<ul>
<li class="">Email: <a href="mailto:ops@icjia.illinois.gov" target="_blank" rel="noopener noreferrer" class="">ops@icjia.illinois.gov</a></li>
<li class="">Slack: #accessibility-alerts</li>
<li class="">Status: &quot;Database maintenance in progress&quot;</li>
</ul>
<p><strong>Step 3: Restore from Backup</strong></p>
<ol>
<li class="">Go to Supabase Dashboard</li>
<li class="">Select most recent backup</li>
<li class="">Click &quot;Restore&quot;</li>
<li class="">Confirm restoration</li>
<li class="">Wait for completion (5-15 minutes)</li>
</ol>
<p><strong>Step 4: Verify Restoration</strong></p>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Check health endpoint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> https://accessibility.icjia.app/api/health</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Check data integrity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># (Use same queries as restore test above)</span><br></span></code></pre></div></div>
<p><strong>Step 5: Notify Team</strong></p>
<ul>
<li class="">Email: <a href="mailto:ops@icjia.illinois.gov" target="_blank" rel="noopener noreferrer" class="">ops@icjia.illinois.gov</a></li>
<li class="">Slack: #accessibility-alerts</li>
<li class="">Status: &quot;Database restored successfully&quot;</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="if-backup-is-corrupted">If Backup is Corrupted<a href="#if-backup-is-corrupted" class="hash-link" aria-label="Direct link to If Backup is Corrupted" title="Direct link to If Backup is Corrupted" translate="no">​</a></h3>
<ol>
<li class="">Contact Supabase support</li>
<li class="">Request backup from 2+ days ago</li>
<li class="">Follow restore procedure above</li>
<li class="">Accept data loss from last 2 days</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="backup-retention-policy">Backup Retention Policy<a href="#backup-retention-policy" class="hash-link" aria-label="Direct link to Backup Retention Policy" title="Direct link to Backup Retention Policy" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development" translate="no">​</a></h3>
<ul>
<li class="">Keep: 7 days</li>
<li class="">Test restore: Monthly</li>
<li class="">Cost: Free</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="production">Production<a href="#production" class="hash-link" aria-label="Direct link to Production" title="Direct link to Production" translate="no">​</a></h3>
<ul>
<li class="">Keep: 30 days (recommended)</li>
<li class="">Test restore: Monthly</li>
<li class="">Cost: ~$10/month</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="archive">Archive<a href="#archive" class="hash-link" aria-label="Direct link to Archive" title="Direct link to Archive" translate="no">​</a></h3>
<ul>
<li class="">Keep: 1 year (optional)</li>
<li class="">Store: AWS S3 or similar</li>
<li class="">Cost: ~$1/month</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="automated-backup-exports">Automated Backup Exports<a href="#automated-backup-exports" class="hash-link" aria-label="Direct link to Automated Backup Exports" title="Direct link to Automated Backup Exports" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="daily-export-to-s3">Daily Export to S3<a href="#daily-export-to-s3" class="hash-link" aria-label="Direct link to Daily Export to S3" title="Direct link to Daily Export to S3" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># backup-to-s3.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">DATE</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token variable" style="color:rgb(214, 222, 235)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">date</span><span class="token variable" style="color:rgb(214, 222, 235)"> +%Y-%m-%d</span><span class="token variable" style="color:rgb(214, 222, 235)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">BACKUP_FILE</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;accessibility-backup-</span><span class="token string variable" style="color:rgb(214, 222, 235)">${DATE}</span><span class="token string" style="color:rgb(173, 219, 103)">.sql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Export from Supabase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">pg_dump postgresql://user:password@db.supabase.co:5432/postgres </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$BACKUP_FILE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Upload to S3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">aws s3 </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$BACKUP_FILE</span><span class="token plain"> s3://icjia-backups/accessibility/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Cleanup local file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$BACKUP_FILE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Log</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Backup completed: </span><span class="token string variable" style="color:rgb(214, 222, 235)">$BACKUP_FILE</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;&gt;</span><span class="token plain"> /var/log/backups.log</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="setup-cron-job">Setup Cron Job<a href="#setup-cron-job" class="hash-link" aria-label="Direct link to Setup Cron Job" title="Direct link to Setup Cron Job" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Add to crontab</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> * * * /usr/local/bin/backup-to-s3.sh</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="production-deployment-checklist">Production Deployment Checklist<a href="#production-deployment-checklist" class="hash-link" aria-label="Direct link to Production Deployment Checklist" title="Direct link to Production Deployment Checklist" translate="no">​</a></h2>
<ul class="contains-task-list containsTaskList_QWGu">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Supabase backups enabled</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Backup retention set to 30 days</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Backup schedule verified (daily at 2 AM UTC)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Staging database created for restore testing</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Monthly restore test scheduled</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Restore test procedure documented</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Team trained on restore procedure</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Disaster recovery plan reviewed</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->S3 backup exports configured (optional)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Backup monitoring alerts configured</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="monitoring-backup-health">Monitoring Backup Health<a href="#monitoring-backup-health" class="hash-link" aria-label="Direct link to Monitoring Backup Health" title="Direct link to Monitoring Backup Health" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="supabase-backup-alerts">Supabase Backup Alerts<a href="#supabase-backup-alerts" class="hash-link" aria-label="Direct link to Supabase Backup Alerts" title="Direct link to Supabase Backup Alerts" translate="no">​</a></h3>
<ol>
<li class="">Go to <strong>Settings → Backups</strong></li>
<li class="">Enable email notifications</li>
<li class="">Alert on:<!-- -->
<ul>
<li class="">Backup failure</li>
<li class="">Backup size anomaly</li>
<li class="">Backup delay</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_tleR" id="custom-monitoring">Custom Monitoring<a href="#custom-monitoring" class="hash-link" aria-label="Direct link to Custom Monitoring" title="Direct link to Custom Monitoring" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_t_Hd"><pre tabindex="0" class="prism-code language-bash codeBlock_RMoD thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#d6deeb"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># check-backup-age.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">BACKUP_AGE</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token variable" style="color:rgb(214, 222, 235)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">curl</span><span class="token variable" style="color:rgb(214, 222, 235)"> </span><span class="token variable parameter variable" style="color:rgb(214, 222, 235)">-s</span><span class="token variable" style="color:rgb(214, 222, 235)"> https://app.supabase.com/api/backups </span><span class="token variable operator" style="color:rgb(127, 219, 202)">|</span><span class="token variable" style="color:rgb(214, 222, 235)"> jq </span><span class="token variable string" style="color:rgb(173, 219, 103)">&#x27;.backups[0].created_at&#x27;</span><span class="token variable" style="color:rgb(214, 222, 235)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">HOURS_OLD</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token variable" style="color:rgb(214, 222, 235)">$((</span><span class="token variable" style="color:rgb(214, 222, 235)"> </span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token variable" style="color:rgb(214, 222, 235)">$</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token variable" style="color:rgb(214, 222, 235)">date </span><span class="token variable operator" style="color:rgb(127, 219, 202)">+</span><span class="token variable operator" style="color:rgb(127, 219, 202)">%</span><span class="token variable" style="color:rgb(214, 222, 235)">s</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token variable" style="color:rgb(214, 222, 235)"> </span><span class="token variable operator" style="color:rgb(127, 219, 202)">-</span><span class="token variable" style="color:rgb(214, 222, 235)"> $</span><span class="token variable punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token variable" style="color:rgb(214, 222, 235)">date </span><span class="token variable operator" style="color:rgb(127, 219, 202)">-</span><span class="token variable" style="color:rgb(214, 222, 235)">d &quot;$BACKUP_AGE&quot; </span><span class="token variable operator" style="color:rgb(127, 219, 202)">+</span><span class="token variable operator" style="color:rgb(127, 219, 202)">%</span><span class="token variable" style="color:rgb(214, 222, 235)">s</span><span class="token variable" style="color:rgb(214, 222, 235)">))</span><span class="token plain"> / </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token variable" style="color:rgb(214, 222, 235)">$HOURS_OLD</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-gt</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">24</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;ALERT: Backup is </span><span class="token string variable" style="color:rgb(214, 222, 235)">$HOURS_OLD</span><span class="token string" style="color:rgb(173, 219, 103)"> hours old&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Send alert</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">fi</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_tleR" id="see-also">See Also<a href="#see-also" class="hash-link" aria-label="Direct link to See Also" title="Direct link to See Also" translate="no">​</a></h2>
<ul>
<li class=""><a class="" href="/docs/docs/deployment/laravel-forge">Deployment Guide - Laravel Forge</a></li>
<li class=""><a class="" href="/docs/docs/deployment/coolify-deployment">Deployment Guide - Coolify</a></li>
<li class=""><a class="" href="/docs/docs/deployment/health-check-monitoring">Health Check Monitoring</a></li>
<li class=""><a href="https://supabase.com/docs/guides/database/backups" target="_blank" rel="noopener noreferrer" class="">Supabase Backup Documentation</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_QeZL"><a href="https://github.com/ICJIA/icjia-accessibility-status/tree/main/docs/docs/deployment/database-backups.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_ydrU"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#supabase-automated-backups" class="table-of-contents__link toc-highlight">Supabase Automated Backups</a><ul><li><a href="#backup-schedule" class="table-of-contents__link toc-highlight">Backup Schedule</a></li><li><a href="#accessing-backups" class="table-of-contents__link toc-highlight">Accessing Backups</a></li><li><a href="#backup-contents" class="table-of-contents__link toc-highlight">Backup Contents</a></li></ul></li><li><a href="#backup-verification-checklist" class="table-of-contents__link toc-highlight">Backup Verification Checklist</a><ul><li><a href="#weekly-verification-every-monday" class="table-of-contents__link toc-highlight">Weekly Verification (Every Monday)</a></li><li><a href="#monthly-restore-test-first-friday-of-month" class="table-of-contents__link toc-highlight">Monthly Restore Test (First Friday of Month)</a></li></ul></li><li><a href="#backup-disaster-recovery-plan" class="table-of-contents__link toc-highlight">Backup Disaster Recovery Plan</a><ul><li><a href="#if-production-database-is-corrupted" class="table-of-contents__link toc-highlight">If Production Database is Corrupted</a></li><li><a href="#if-backup-is-corrupted" class="table-of-contents__link toc-highlight">If Backup is Corrupted</a></li></ul></li><li><a href="#backup-retention-policy" class="table-of-contents__link toc-highlight">Backup Retention Policy</a><ul><li><a href="#development" class="table-of-contents__link toc-highlight">Development</a></li><li><a href="#production" class="table-of-contents__link toc-highlight">Production</a></li><li><a href="#archive" class="table-of-contents__link toc-highlight">Archive</a></li></ul></li><li><a href="#automated-backup-exports" class="table-of-contents__link toc-highlight">Automated Backup Exports</a><ul><li><a href="#daily-export-to-s3" class="table-of-contents__link toc-highlight">Daily Export to S3</a></li><li><a href="#setup-cron-job" class="table-of-contents__link toc-highlight">Setup Cron Job</a></li></ul></li><li><a href="#production-deployment-checklist" class="table-of-contents__link toc-highlight">Production Deployment Checklist</a></li><li><a href="#monitoring-backup-health" class="table-of-contents__link toc-highlight">Monitoring Backup Health</a><ul><li><a href="#supabase-backup-alerts" class="table-of-contents__link toc-highlight">Supabase Backup Alerts</a></li><li><a href="#custom-monitoring" class="table-of-contents__link toc-highlight">Custom Monitoring</a></li></ul></li><li><a href="#see-also" class="table-of-contents__link toc-highlight">See Also</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/docs/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/docs/setup-guide">Setup Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/docs/api/overview">API Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ICJIA/icjia-accessibility-status" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPrP"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ICJIA/icjia-accessibility-status/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPrP"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.icjia.state.il.us" target="_blank" rel="noopener noreferrer" class="footer__link-item">ICJIA Website<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPrP"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Illinois Criminal Justice Information Authority. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>